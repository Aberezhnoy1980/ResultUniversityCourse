# Маршрутизация [react-router](https://reactrouter.com/)

### Основные понятия

* SPA (Single Page Application) — это веб-приложение, которое загружает только одну HTML-страницу с сервера и взаимодействует с пользователем, обновляя содержимое этой страницы динамически, без перезагрузки страницы.
Вместо того, чтобы каждый раз загружать новую страницу, SPA загружает только необходимые данные и обновляет только части страницы, которые требуют изменений.
* Кэширование в браузере — это техника, которая заключается в сохранении копии данных или ресурсов на клиентской стороне для ускорения доступа к ним в будущем.
* React Router — это библиотека для маршрутизации (роутинга) на стороне клиента в одностраничных приложениях (SPA) на основе React

### Реализация

* React Router позволяет отображать разные компоненты в зависимости от текущего URL-адреса.
* Routes — это контейнерный компонент, который определяет набор маршрутов и их соответствующих компонентов для отображения при совпадении с текущим путем URL.
* Route — это компонент, который который определяет соответствие между определенным путем URL и компонентом, который должен быть отображен при совпадении пути.
* Link — это компонент, который представляет из себя ссылку для перехода между различными маршрутами без перезагрузки страницы.
* NavLink — особый вид компонента Link, который знает, является ли он "активным” (isActive) или “ожидаемым” (isPending) в данный момент

### Организация структуры

* Outlet используется в родительских компонентах маршрутов для определения места, где дочерние компоненты маршрутов будут рендериться.
* Если сегмент шаблона пути начинается с :, то он становится «динамическим сегментом». Когда шаблон определенного маршрута соответствует URL-адресу, динамический сегмент будет распаршен из URL-адреса и предоставлен в качестве параметров. «Динамический сегмент» часто используется для динамического отображения различного контента на основе этого параметра.
* Хук useParams() возвращает объект с парами ключ/значение динамических параметров текущего URL, которые соответствуют шаблону, заданному для текущего Route

## Обработка не обработанных путей

* 404 Not Found — это стандартный HTTP-код ответа, который указывает на то, что запрошенная страница или ресурс не найдены.
* В React Router можно обработать ошибку 404, используя компонент <Route> с path="*". Этот путь будет соответствовать любому пути, который не был обработан ранее. Указанный для данного маршрута компонент будет рендериться в случае, если путь не соответствует ни одному другому маршруту.

## Условный рендеринг

* Хук useMatch() используется для получения информации о сопоставлении заданного шаблона пути маршрута относительно текущего расположения.
Иными словами, хук позволяет проверить, соответствует ли текущий путь маршрута определенному шаблону пути. Возвращаемое значение useMatch() содержит информацию о сопоставлении, включая параметры маршрута, если таковые имеются.

* Хук useMatch() возвращает null, если текущий путь не сопоставляется с заданным шаблоном.

* Хук useNavigate() возвращает функцию navigate(), позволяющую осуществлять программную навигацию.
* Функция navigate() имеет 2 способа использования:
	* Передача первым аргументом необходимого маршрута для навигации (подобного тому, который можно указать для to в Link).
	В таком случае дополнительно можно вторым аргументом передать объект с настройками, среди которых будет replace. При указании replace: true новая страница заменит текущую запись в стеке истории браузера вместо добавления новой.

	* Передача первым аргументом числа — количество шагов, которые необходимо пройти в стеке истории браузера. Например, navigate(-1) будет эквивалентно нажатию кнопки “Назад”.

* Компонент Navigate изменяет текущее расположение (URL) при своем рендере.
* Navigate по своей сути является компонентом-оберткой вокруг useNavigate(). Он принимает все те же аргументы, но в виде пропсов.

## Установка [react-roter-dom](https://www.npmjs.com/package/react-router-dom):

```shell
npm i react-router-dom
```
