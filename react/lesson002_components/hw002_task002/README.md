# Задание #2

Теперь переходим к более самостоятельной практике. Здесь, опираясь на опыт разработки приложения из предыдущего задания, вам необходимо разработать интерактивную инструкцию:

<img class=" lazyloaded" src="https://fs19.getcourse.ru/fileservice/file/download/a/177331/sc/269/h/ffbdb864fd8f9bb6491684533f9b6a72.gif">

Функциональные требования по работе приложения:

* При нажатии на кнопку **Далее** происходит переход к следующему шагу. Если выбран последний шаг, то текст на кнопке заменяется на **Начать сначала** и при клике на нее устанавливается самый первый шаг.
* При нажатии на кнопку **Назад** происходит переход к предыдущему шагу, но при условии, что активен не первый шаг (в этом случае кнопка заблокирована).
* При нажатии на цифру конкретного шага (круглую кнопку) происходит переход к соответствующему шагу. Требования по состоянию кнопок из предыдущих двух пунктов также должны выполняться. Например, если был выбран первый шаг, кнопка **Назад** также должна быть заблокирована.

Вам дана готовая верстка, а также заготовка компонента: [ссылка](https://fs04.gcfiles.net/fileservice/file/download/a/177331/sc/37/h/534491a45341c1f6da7b2641240cf9f0.zip). Ваша задача реализовать логику внутри файла app.js, соответствующую требованиям выше.

### Пояснения и подсказки

* **Подготовка проекта.** Переместите данную папку <em style="color: #EB5757;">src</em> в шаблон приложения, который мы подготовили в первом уроке (с настроенными ESLint, Prettier и EditorConfig). Убедитесь, что приложение запускается и разметка выводится на экран.
* **Заготовленные данные.** В компоненте App импортирован data из файла <em style="color: #EB5757;">data.json</em>. В нем содержится заготовленный массив с данными для приложения — используйте его для вывода шагов и контента каждого шага.
* **Подготовьте несколько состояний.** Рекомендуем определить минимум 2 состояния с помощью <em style="color: #EB5757;">useState()</em>:
 	* <em style="color: #EB5757;">steps</em> — массив, в качестве значения по умолчанию используйте импортированный <em style="color: #EB5757;">data</em> из файла <em style="color: #EB5757;">data.json</em>.
 	* <em style="color: #EB5757;">activeIndex</em> — число (индекс) определяющее активный шаг. По умолчанию <em style="color: #EB5757;">0</em>.
* **Обработчики.** Рекомендуем определить несколько обработчиков: назад, вперед, начать сначала. Они будут срабатывать при клике на соответствующие кнопки. Внутри обработчиков обновляйте состояние <em style="color: #EB5757;">activeIndex</em>.
* **Флаги.** Также для удобства рекомендуем создать 2 переменных логического типа:
 	* Находимся ли мы на первом шаге.
 	* Находимся ли мы на последнем шаге.

  Используя их в JSX разметке, можно выводить соответствующий контент в зависимости от этих двух условий. Например, блокировать кнопку Назад на первом шаге. Для определения значений этих переменных можно использовать массив steps и активный индекс activeIndex.
* **Вывод списка шагов.** Шаги необходимо вывести циклично с помощью массива <em style="color: #EB5757;">steps</em>. CSS-класс <em style="color: #EB5757;">styles['steps-item']</em> должен быть у всех шагов. Класс <em style="color: #EB5757;">styles.active</em> только у текущего активного шага, а <em style="color: #EB5757;">styles.done</em> у всех тех, которые были выполнены и также у активного. Для налядности можете взглянуть, как добавлены эти классы сейчас в компоненте <em style="color: #EB5757;">App</em>. Вам нужно будет сделать так, чтобы эти классы добавлялись автоматически в зависимости от текущего активного шага. Добавьте соответствующую проверку, когда будете выводить массив шагов. Для сравнения вам потребуется активный индекс (<em style="color: #EB5757;">activeIndex</em>) и индекс итерируемого шага (второй параметр в методе <em style="color: #EB5757;">map()</em>).

В стартовом коде с помощью комментариев также даны некоторые пояснения. Они помогут вам лучше разобраться в процессе выполнения работы.

### Также, можно опубликовать выполненную работу на GitHub Pages

* **Установите пакет**. Для выгрузки на GitHub Pages в данном случае мы будем использовать удобный npm пакет [gh-pages](https://www.npmjs.com/package/gh-pages). Для его установки выполним команду:

```shell
npm install gh-pages --save-dev
```

* **Добавьте скрипт**. Далее нам необходимо добавить новый npm скрипт в ​​​<em style="color: #EB5757;">​package.json​​​</em>​. С помощью него, мы будем выгружать наше приложение на хостинг.

```json
"deploy": "gh-pages -d dist -e current_task -b gh-pages-dumplings-guide -v \"**/.*\""
```

\- где <em style="color: #EB5757;">dist</em> название директории с выходным бандлом. В случае конфликта с .gitignore можно конфигурировать в нстройках сборщика

\-  <em style="color: #EB5757;">-e current_task</em> директория назначения относительно корня. Текущая система предусматривает использование вложенных директорий для одного развернутого сайта для одного репозитория. Github pages имеет ограничения

\- <em style="color: #EB5757;">-b gh-pages-dumplings-guide</em> название ветки для деплоя (по умолчанию gh-pages)

\-  <em style="color: #EB5757;">--v \"**/.*\"</em> удаление из директории репозиотрия для развертывания точечных файлов. При определенных обстоятельствах этот флаг необходимо убирать

* **Добавить путь.** Необходимо добавить базовый путь для dev-сервера (пустая строка или ./ (для встроенного развертывания)):

```js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react-swc';

// https://vite.dev/config/
export default defineConfig({
	plugins: [react()],
	base: './',  // <-
});
```

* **Добавьте homepage** Далее также в файле ​​​<em style="color: #EB5757;">​package.json​​​</em>​ нужно добавить ​​​<em style="color: #EB5757;">​homepage</em>​​​​
**username** - имя пользователя на GitHub, **repository** - название репозитория:

```json
"homepage": "https://<username>.github.io/<repository>/"
```

Для сборки vite этот шаг не обязателен

* **Выполните build**:

```shell
npm run build
```

* **Выполните deploy**:
```shell
npm run deploy
```

* **или**

```shell
npm run build && npm run deploy
```

* **Готово!** Проект доступен по адресу, указанному в homepage в package.json https://\<username\>.github.io/\<repository\>/current_task
